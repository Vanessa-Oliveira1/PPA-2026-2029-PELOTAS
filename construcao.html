<!-- construcao.html -->
<h2>Constru√ß√£o do Plano Plurianual</h2>
<p>Aqui est√£o todos os eixos, objetivos estrat√©gicos, programas, justificativas e ODS vinculadas do PPA 2026-2029:</p>

<div id="ppa-estrutura"></div>

<h3 style="margin-top: 40px;">Cronograma</h3>
<ul>
  <li><strong>Formalizar Comiss√£o:</strong> 07/04 a 10/04</li>
  <li><strong>Forma√ß√£o e envio de formul√°rios:</strong> 11/04</li>
  <li><strong>Constru√ß√£o pelas Secretarias:</strong> 11/04 a 12/05</li>
  <li><strong>Valida√ß√£o pelo Prefeito:</strong> 12/05 a 30/05</li>
  <li><strong>Envio ao Legislativo:</strong> Limite 31/07</li>
  <li><strong>Constru√ß√£o da LDO e LOA:</strong> 31/07 a 30/10</li>
  <li><strong>Envio da LDO:</strong> Limite 15/09</li>
  <li><strong>Envio da LOA:</strong> Limite 15/11</li>
</ul>

<script>
const dados = [
  {
    eixo: "Eixo 1. Democracia e Justi√ßa Social",
    objetivos: [
      {
        nome: "Objetivo 1.1. Fortalecer a participa√ß√£o social",
        programas: [
          {
            nome: "Programa 1.1.1. Gest√£o Participativa",
            justificativa: "Promover canais efetivos de participa√ß√£o social e transpar√™ncia.",
            objetivoPrograma: "Instituir plataformas e inst√¢ncias de escuta e delibera√ß√£o social.",
            ods: [16, 17]
          }
        ]
      }
    ]
  }
  // Aqui incluir√£o os demais eixos com base na planilha
];

function renderODS(odsArray) {
  return `<div class="ods-programa">` +
    odsArray.map(o => `
      <img src="https://odsbrasil.gov.br/content/ods/${o}.png" alt="ODS ${o}" title="ODS ${o}" style="width:30px; height:30px; margin-right:5px;">
    `).join('') + `</div>`;
}

function renderEstrutura(dados) {
  let html = "";
  dados.forEach(eixo => {
    html += `<div class="eixo-box">
      <button class="eixo-btn" onclick="toggle('${eixo.eixo}')">üìä ${eixo.eixo}</button>
      <div id="${eixo.eixo}" style="display:none; margin-left: 20px;">`;

    eixo.objetivos.forEach(obj => {
      html += `<div class="objetivo-box">
        <button class="objetivo-btn" onclick="toggle('${obj.nome}')">üéØ ${obj.nome}</button>
        <div id="${obj.nome}" style="display:none; margin-left: 20px;">`;

      obj.programas.forEach(p => {
        html += `<div class="programa-box" style="margin-bottom:10px;">
          <p><strong>Programa:</strong> ${p.nome}</p>
          <p><strong>Justificativa:</strong> ${p.justificativa}</p>
          <p><strong>Objetivo do Programa:</strong> ${p.objetivoPrograma}</p>
          ${renderODS(p.ods)}
        </div>`;
      });

      html += `</div></div>`;
    });

    html += `</div></div>`;
  });

  document.getElementById("ppa-estrutura").innerHTML = html;
}

function toggle(id) {
  const el = document.getElementById(id);
  el.style.display = el.style.display === 'none' ? 'block' : 'none';
}

renderEstrutura(dados);
</script>

<style>
.eixo-btn, .objetivo-btn {
  background-color: #e1f5fe;
  border: 1px solid #90caf9;
  border-radius: 8px;
  padding: 10px;
  margin-top: 10px;
  cursor: pointer;
  width: 100%;
  text-align: left;
}
.programa-box {
  background: #f9f9f9;
  border-left: 4px solid #4CB2FF;
  padding: 10px;
  border-radius: 6px;
}
.ods-programa img {
  vertical-align: middle;
}
</style>
